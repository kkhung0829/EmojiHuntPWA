(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(e,s,t){"use strict";t.r(s),t.d(s,"HomePageModule",(function(){return E}));var a=t("ofXK"),i=t("TEn/"),o=t("3Pt+"),m=t("tyNb"),n=t("mrSG"),r=t("+hG3");const c=[{name:"hand",emoji:"\u270b",path:"assets/emojis/hand.svg"},{name:"mouse",emoji:"\u{1f5b1}",path:"assets/emojis/mouse.svg"},{name:"plug",emoji:"\u{1f50c}",path:"assets/emojis/plug.svg"},{name:"light bulb",emoji:"\u{1f4a1}",path:"assets/emojis/light bulb.svg"},{name:"book",emoji:"\u{1f4da}",path:"assets/emojis/book.svg"},{name:"cellphone",emoji:"\u{1f4f1}",path:"assets/emojis/cellphone.svg"},{name:"keyboard",emoji:"\u2328\ufe0f",path:"assets/emojis/keyboard.svg"},{name:"tv",emoji:"\u{1f4fa}",path:"assets/emojis/tv.svg"},{name:"laptop",emoji:"\u{1f4bb}",path:"assets/emojis/laptop.svg"},{name:"shirt",emoji:"\u{1f455}",path:"assets/emojis/shirt.svg"},{name:"pants",emoji:"\u{1f456}",path:"assets/emojis/pants.svg"},{name:"shoe",emoji:"\u{1f45e}",path:"assets/emojis/shoe.svg"},{name:"key",emoji:"\u{1f511}",path:"assets/emojis/key.svg"},{name:"newspaper",emoji:"\u{1f4f0}",path:"assets/emojis/newspaper.svg"},{name:"plate",emoji:"\u{1f37d}",path:"assets/emojis/plate.svg"},{name:"sock",emoji:"\u{1f9e6}",path:"assets/emojis/sock.svg"},{name:"coat",emoji:"\u{1f9e5}",path:"assets/emojis/coat.svg"},{name:"wallet",emoji:"\u{1f45b}",path:"assets/emojis/wallet.svg"},{name:"bed",emoji:"\u{1f6cf}",path:"assets/emojis/bed.svg"},{name:"cup",emoji:"\u2615",path:"assets/emojis/cup.svg"},{name:"watch",emoji:"\u231a",path:"assets/emojis/watch.svg"},{name:"trash can",emoji:"\u{1f5d1}",path:"assets/emojis/trash can.svg"},{name:"envelope",emoji:"\u2709\ufe0f",path:"assets/emojis/envelope.svg"},{name:"sunglasses",emoji:"\u{1f576}",path:"assets/emojis/sunglasses.svg"},{name:"toilet",emoji:"\u{1f6bd}",path:"assets/emojis/toilet.svg"},{name:"clock",emoji:"\u{1f551}",path:"assets/emojis/clock.svg"},{name:"hat",emoji:"\u{1f9e2}",path:"assets/emojis/hat.svg"},{name:"backpack",emoji:"\u{1f392}",path:"assets/emojis/backpack.svg"},{name:"headphones",emoji:"\u{1f3a7}",path:"assets/emojis/headphones.svg"},{name:"display",emoji:"\u{1f5a5}",path:"assets/emojis/display.svg"},{name:"spoon",emoji:"\u{1f944}",path:"assets/emojis/spoon.svg"},{name:"bowl",emoji:"\u{1f963}",path:"assets/emojis/bowl.svg"},{name:"scarf",emoji:"\u{1f9e3}",path:"assets/emojis/scarf.svg"},{name:"scissors",emoji:"\u2702\ufe0f",path:"assets/emojis/scissors.svg"},{name:"cabinet",emoji:"\u{1f5c4}",path:"assets/emojis/cabinet.svg"},{name:"tree",emoji:"\u{1f332}",path:"assets/emojis/tree.svg"},{name:"beer",emoji:"\u{1f37a}",path:"assets/emojis/beer.svg"},{name:"sofa",emoji:"\u{1f6cb}",path:"assets/emojis/sofa.svg"},{name:"house",emoji:"\u{1f3e0}",path:"assets/emojis/house.svg"},{name:"building",emoji:"\u{1f3e2}",path:"assets/emojis/building.svg"},{name:"bicycle",emoji:"\u{1f6b2}",path:"assets/emojis/bicycle.svg"},{name:"frying pan",emoji:"\u{1f373}",path:"assets/emojis/frying pan.svg"},{name:"wine",emoji:"\u{1f377}",path:"assets/emojis/wine.svg"},{name:"bread",emoji:"\u{1f35e}",path:"assets/emojis/bread.svg"},{name:"printer",emoji:"\u{1f5a8}",path:"assets/emojis/printer.svg"},{name:"banana",emoji:"\u{1f34c}",path:"assets/emojis/banana.svg"},{name:"car",emoji:"\u{1f697}",path:"assets/emojis/car.svg"},{name:"flower",emoji:"\u{1f33c}",path:"assets/emojis/flower.svg"},{name:"glove",emoji:"\u{1f9e4}",path:"assets/emojis/glove.svg"},{name:"umbrella",emoji:"\u2602\ufe0f",path:"assets/emojis/umbrella.svg"},{name:"bathtub",emoji:"\u{1f6c1}",path:"assets/emojis/bathtub.svg"},{name:"camera",emoji:"\u{1f4f7}",path:"assets/emojis/camera.svg"},{name:"cat",emoji:"\u{1f431}",path:"assets/emojis/cat.svg"},{name:"guitar",emoji:"\u{1f3b8}",path:"assets/emojis/guitar.svg"},{name:"dog",emoji:"\u{1f436}",path:"assets/emojis/dog.svg"},{name:"orange",emoji:"\u{1f34a}",path:"assets/emojis/orange.svg"},{name:"strawberry",emoji:"\u{1f353}",path:"assets/emojis/strawberry.svg"},{name:"piano",emoji:"\u{1f3b9}",path:"assets/emojis/piano.svg"},{name:"hammer",emoji:"\u{1f528}",path:"assets/emojis/hammer.svg"},{name:"microphone",emoji:"\u{1f3a4}",path:"assets/emojis/microphone.svg"},{name:"broccoli",emoji:"\u{1f966}",path:"assets/emojis/broccoli.svg"},{name:"lipstick",emoji:"\u{1f484}",path:"assets/emojis/lipstick.svg"},{name:"lock",emoji:"\u{1f512}",path:"assets/emojis/lock.svg"},{name:"mailbox",emoji:"\u{1f4ea}",path:"assets/emojis/mailbox.svg"},{name:"soccer ball",emoji:"\u26bd",path:"assets/emojis/soccer ball.svg"},{name:"mushroom",emoji:"\u{1f344}",path:"assets/emojis/mushroom.svg"},{name:"lemon",emoji:"\u{1f34b}",path:"assets/emojis/lemon.svg"},{name:"baseball",emoji:"\u26be",path:"assets/emojis/baseball.svg"},{name:"basketball",emoji:"\u{1f3c0}",path:"assets/emojis/basketball.svg"},{name:"flashlight",emoji:"\u{1f526}",path:"assets/emojis/flashlight.svg"},{name:"candle",emoji:"\u{1f56f}",path:"assets/emojis/candle.svg"},{name:"radio",emoji:"\u{1f4fb}",path:"assets/emojis/radio.svg"},{name:"fish",emoji:"\u{1f41f}",path:"assets/emojis/fish.svg"},{name:"icecream",emoji:"\u{1f368}",path:"assets/emojis/icecream.svg"},{name:"pizza",emoji:"\u{1f355}",path:"assets/emojis/pizza.svg"},{name:"bird",emoji:"\u{1f426}",path:"assets/emojis/bird.svg"},{name:"cassette",emoji:"\u{1f4fc}",path:"assets/emojis/cassette.svg"},{name:"hamburger",emoji:"\u{1f354}",path:"assets/emojis/hamburger.svg"},{name:"hotdog",emoji:"\u{1f32d}",path:"assets/emojis/hotdog.svg"},{name:"fries",emoji:"\u{1f35f}",path:"assets/emojis/fries.svg"},{name:"ramen",emoji:"\u{1f35c}",path:"assets/emojis/ramen.svg"},{name:"donut",emoji:"\u{1f369}",path:"assets/emojis/donut.svg"},{name:"sushi",emoji:"\u{1f363}",path:"assets/emojis/sushi.svg"},{name:"taco",emoji:"\u{1f32e}",path:"assets/emojis/taco.svg"},{name:"burrito",emoji:"\u{1f32f}",path:"assets/emojis/burrito.svg"},{name:"traffic light",emoji:"\u{1f6a6}",path:"assets/emojis/traffic light.svg"},{name:"bus",emoji:"\u{1f68e}",path:"assets/emojis/bus.svg"},{name:"truck",emoji:"\u{1f69a}",path:"assets/emojis/truck.svg"},{name:"screw",emoji:"\u{1f529}",path:"assets/emojis/screw.svg"},{name:"sax",emoji:"\u{1f3b7}",path:"assets/emojis/sax.svg"},{name:"baby bottle",emoji:"\u{1f37c}",path:"assets/emojis/baby bottle.svg"},{name:"motor scooter",emoji:"\u{1f6f5}",path:"assets/emojis/motor scooter.svg"},{name:"magnifying glass",emoji:"\u{1f50e}",path:"assets/emojis/magnifying glass.svg"},{name:"jack o lantern",emoji:"\u{1f383}",path:"assets/emojis/jack o lantern.svg"}];var j=t("fXoL"),h=t("ucLm");const p=["video"];let l=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){}setupCamera(){return Object(n.a)(this,void 0,void 0,(function*(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const e=yield navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}});return this.videoEl.nativeElement.srcObject=e,new Promise(e=>{this.videoEl.nativeElement.onloadedmetadata=()=>{void 0!==this.targetPixels&&this.fitTargetPixels(Number(this.targetPixels)),e([this.videoEl.nativeElement.videoWidth,this.videoEl.nativeElement.videoHeight])}})}}))}fitTargetPixels(e){let s=this.videoEl.nativeElement.videoWidth,t=this.videoEl.nativeElement.videoHeight,a=s/t;s>=t?(this.videoEl.nativeElement.height=e,this.videoEl.nativeElement.width=a*e):(this.videoEl.nativeElement.width=e,this.videoEl.nativeElement.height=e/a)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=j.Bb({type:e,selectors:[["app-camera"]],viewQuery:function(e,s){var t;1&e&&j.gc(p,!0),2&e&&j.Zb(t=j.Sb())&&(s.videoEl=t.first)},inputs:{targetPixels:"targetPixels"},decls:2,vars:0,consts:[["autoplay","","playsinline",""],["video",""]],template:function(e,s){1&e&&j.Ib(0,"video",0,1)},styles:[""]}),e})();const g=["camera"];function v(e,s){if(1&e&&(j.Kb(0,"ion-title"),j.dc(1),j.Ub(2,"percent"),j.Jb()),2&e){const e=j.Tb();j.xb(1),j.fc(" ",e.predicts[0].emojiItem.emoji," - ",j.Vb(2,2,e.predicts[0].confidence)," ")}}function b(e,s){if(1&e&&(j.Kb(0,"tr"),j.Kb(1,"td"),j.dc(2),j.Jb(),j.Kb(3,"td"),j.dc(4),j.Ub(5,"percent"),j.Jb(),j.Jb()),2&e){const e=s.$implicit;j.xb(2),j.ec(e.emojiItem.emoji),j.xb(2),j.ec(j.Vb(5,2,e.confidence))}}function d(e,s){if(1&e&&(j.Kb(0,"ion-row",4),j.Kb(1,"ion-col"),j.Kb(2,"ion-row",8),j.Kb(3,"ion-col",9),j.Ib(4,"img",10),j.Jb(),j.Kb(5,"ion-col",9),j.Kb(6,"table"),j.cc(7,b,6,4,"tr",11),j.Jb(),j.Jb(),j.Jb(),j.Jb(),j.Jb()),2&e){const e=j.Tb();j.xb(4),j.Yb("src",e.predicts[0].emojiItem.path,j.ac),j.xb(3),j.Yb("ngForOf",e.predicts)}}const u=[{path:"",component:(()=>{class e{constructor(e){this.mobileNet=e,this.VIDEO_PIXELS=224}ngAfterViewInit(){this.init()}init(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.camera.setupCamera(),this.loopPredict()}))}predict(){const e=r.tidy(()=>{const e=r.fromPixels(this.camera.videoEl.nativeElement),s=e.slice([e.shape[0]/2-this.VIDEO_PIXELS/2,e.shape[1]/2-this.VIDEO_PIXELS/2,0],[this.VIDEO_PIXELS,this.VIDEO_PIXELS,3]);return this.mobileNet.predict(s)}),s=this.mobileNet.getTopKClasses(e);this.predicts=s.filter(e=>null!==this.findEmoji(e.label)).map(e=>({emojiItem:this.findEmoji(e.label),confidence:e.value})).slice(0,6)}loopPredict(){this.predict(),setTimeout(()=>{requestAnimationFrame(()=>this.loopPredict())},1e3)}findEmoji(e){let s=null;for(let t=0;t<c.length;t++)if(c[t].name===e){s=c[t];break}return s}}return e.\u0275fac=function(s){return new(s||e)(j.Hb(h.a))},e.\u0275cmp=j.Bb({type:e,selectors:[["app-home"]],viewQuery:function(e,s){var t;1&e&&j.gc(g,!0),2&e&&j.Zb(t=j.Sb())&&(s.camera=t.first)},decls:11,vars:5,consts:[[3,"translucent"],[4,"ngIf"],[3,"fullscreen"],["id","container"],[1,"ion-align-items-center"],[3,"targetPixels"],["camera",""],["class","ion-align-items-center",4,"ngIf"],[1,"ion-justify-content-center"],["size","auto"],[3,"src"],[4,"ngFor","ngForOf"]],template:function(e,s){1&e&&(j.Kb(0,"ion-header",0),j.Kb(1,"ion-toolbar"),j.cc(2,v,3,4,"ion-title",1),j.Jb(),j.Jb(),j.Kb(3,"ion-content",2),j.Kb(4,"div",3),j.Kb(5,"ion-grid"),j.Kb(6,"ion-row",4),j.Kb(7,"ion-col"),j.Ib(8,"app-camera",5,6),j.Jb(),j.Jb(),j.cc(10,d,8,2,"ion-row",7),j.Jb(),j.Jb(),j.Jb()),2&e&&(j.Yb("translucent",!0),j.xb(2),j.Yb("ngIf",s.predicts),j.xb(1),j.Yb("fullscreen",!0),j.xb(5),j.Yb("targetPixels",s.VIDEO_PIXELS),j.xb(2),j.Yb("ngIf",s.predicts))},directives:[i.e,i.i,a.i,i.c,i.d,i.g,i.b,l,i.h,a.h],pipes:[a.k],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=j.Fb({type:e}),e.\u0275inj=j.Eb({factory:function(s){return new(s||e)},imports:[[m.i.forChild(u)],m.i]}),e})(),E=(()=>{class e{}return e.\u0275mod=j.Fb({type:e}),e.\u0275inj=j.Eb({factory:function(s){return new(s||e)},imports:[[a.b,o.a,i.j,f]]}),e})()}}]);