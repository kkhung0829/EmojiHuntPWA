!function(){function e(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function s(e,s){for(var t=0;t<s.length;t++){var a=s[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(s,a,i){"use strict";i.r(a),i.d(a,"HomePageModule",(function(){return I}));var o,n=i("ofXK"),m=i("TEn/"),r=i("3Pt+"),c=i("tyNb"),j=i("mrSG"),p=i("+hG3"),h=[{name:"hand",emoji:"\u270b",path:"assets/emojis/hand.svg"},{name:"mouse",emoji:"\ud83d\uddb1",path:"assets/emojis/mouse.svg"},{name:"plug",emoji:"\ud83d\udd0c",path:"assets/emojis/plug.svg"},{name:"light bulb",emoji:"\ud83d\udca1",path:"assets/emojis/light bulb.svg"},{name:"book",emoji:"\ud83d\udcda",path:"assets/emojis/book.svg"},{name:"cellphone",emoji:"\ud83d\udcf1",path:"assets/emojis/cellphone.svg"},{name:"keyboard",emoji:"\u2328\ufe0f",path:"assets/emojis/keyboard.svg"},{name:"tv",emoji:"\ud83d\udcfa",path:"assets/emojis/tv.svg"},{name:"laptop",emoji:"\ud83d\udcbb",path:"assets/emojis/laptop.svg"},{name:"shirt",emoji:"\ud83d\udc55",path:"assets/emojis/shirt.svg"},{name:"pants",emoji:"\ud83d\udc56",path:"assets/emojis/pants.svg"},{name:"shoe",emoji:"\ud83d\udc5e",path:"assets/emojis/shoe.svg"},{name:"key",emoji:"\ud83d\udd11",path:"assets/emojis/key.svg"},{name:"newspaper",emoji:"\ud83d\udcf0",path:"assets/emojis/newspaper.svg"},{name:"plate",emoji:"\ud83c\udf7d",path:"assets/emojis/plate.svg"},{name:"sock",emoji:"\ud83e\udde6",path:"assets/emojis/sock.svg"},{name:"coat",emoji:"\ud83e\udde5",path:"assets/emojis/coat.svg"},{name:"wallet",emoji:"\ud83d\udc5b",path:"assets/emojis/wallet.svg"},{name:"bed",emoji:"\ud83d\udecf",path:"assets/emojis/bed.svg"},{name:"cup",emoji:"\u2615",path:"assets/emojis/cup.svg"},{name:"watch",emoji:"\u231a",path:"assets/emojis/watch.svg"},{name:"trash can",emoji:"\ud83d\uddd1",path:"assets/emojis/trash can.svg"},{name:"envelope",emoji:"\u2709\ufe0f",path:"assets/emojis/envelope.svg"},{name:"sunglasses",emoji:"\ud83d\udd76",path:"assets/emojis/sunglasses.svg"},{name:"toilet",emoji:"\ud83d\udebd",path:"assets/emojis/toilet.svg"},{name:"clock",emoji:"\ud83d\udd51",path:"assets/emojis/clock.svg"},{name:"hat",emoji:"\ud83e\udde2",path:"assets/emojis/hat.svg"},{name:"backpack",emoji:"\ud83c\udf92",path:"assets/emojis/backpack.svg"},{name:"headphones",emoji:"\ud83c\udfa7",path:"assets/emojis/headphones.svg"},{name:"display",emoji:"\ud83d\udda5",path:"assets/emojis/display.svg"},{name:"spoon",emoji:"\ud83e\udd44",path:"assets/emojis/spoon.svg"},{name:"bowl",emoji:"\ud83e\udd63",path:"assets/emojis/bowl.svg"},{name:"scarf",emoji:"\ud83e\udde3",path:"assets/emojis/scarf.svg"},{name:"scissors",emoji:"\u2702\ufe0f",path:"assets/emojis/scissors.svg"},{name:"cabinet",emoji:"\ud83d\uddc4",path:"assets/emojis/cabinet.svg"},{name:"tree",emoji:"\ud83c\udf32",path:"assets/emojis/tree.svg"},{name:"beer",emoji:"\ud83c\udf7a",path:"assets/emojis/beer.svg"},{name:"sofa",emoji:"\ud83d\udecb",path:"assets/emojis/sofa.svg"},{name:"house",emoji:"\ud83c\udfe0",path:"assets/emojis/house.svg"},{name:"building",emoji:"\ud83c\udfe2",path:"assets/emojis/building.svg"},{name:"bicycle",emoji:"\ud83d\udeb2",path:"assets/emojis/bicycle.svg"},{name:"frying pan",emoji:"\ud83c\udf73",path:"assets/emojis/frying pan.svg"},{name:"wine",emoji:"\ud83c\udf77",path:"assets/emojis/wine.svg"},{name:"bread",emoji:"\ud83c\udf5e",path:"assets/emojis/bread.svg"},{name:"printer",emoji:"\ud83d\udda8",path:"assets/emojis/printer.svg"},{name:"banana",emoji:"\ud83c\udf4c",path:"assets/emojis/banana.svg"},{name:"car",emoji:"\ud83d\ude97",path:"assets/emojis/car.svg"},{name:"flower",emoji:"\ud83c\udf3c",path:"assets/emojis/flower.svg"},{name:"glove",emoji:"\ud83e\udde4",path:"assets/emojis/glove.svg"},{name:"umbrella",emoji:"\u2602\ufe0f",path:"assets/emojis/umbrella.svg"},{name:"bathtub",emoji:"\ud83d\udec1",path:"assets/emojis/bathtub.svg"},{name:"camera",emoji:"\ud83d\udcf7",path:"assets/emojis/camera.svg"},{name:"cat",emoji:"\ud83d\udc31",path:"assets/emojis/cat.svg"},{name:"guitar",emoji:"\ud83c\udfb8",path:"assets/emojis/guitar.svg"},{name:"dog",emoji:"\ud83d\udc36",path:"assets/emojis/dog.svg"},{name:"orange",emoji:"\ud83c\udf4a",path:"assets/emojis/orange.svg"},{name:"strawberry",emoji:"\ud83c\udf53",path:"assets/emojis/strawberry.svg"},{name:"piano",emoji:"\ud83c\udfb9",path:"assets/emojis/piano.svg"},{name:"hammer",emoji:"\ud83d\udd28",path:"assets/emojis/hammer.svg"},{name:"microphone",emoji:"\ud83c\udfa4",path:"assets/emojis/microphone.svg"},{name:"broccoli",emoji:"\ud83e\udd66",path:"assets/emojis/broccoli.svg"},{name:"lipstick",emoji:"\ud83d\udc84",path:"assets/emojis/lipstick.svg"},{name:"lock",emoji:"\ud83d\udd12",path:"assets/emojis/lock.svg"},{name:"mailbox",emoji:"\ud83d\udcea",path:"assets/emojis/mailbox.svg"},{name:"soccer ball",emoji:"\u26bd",path:"assets/emojis/soccer ball.svg"},{name:"mushroom",emoji:"\ud83c\udf44",path:"assets/emojis/mushroom.svg"},{name:"lemon",emoji:"\ud83c\udf4b",path:"assets/emojis/lemon.svg"},{name:"baseball",emoji:"\u26be",path:"assets/emojis/baseball.svg"},{name:"basketball",emoji:"\ud83c\udfc0",path:"assets/emojis/basketball.svg"},{name:"flashlight",emoji:"\ud83d\udd26",path:"assets/emojis/flashlight.svg"},{name:"candle",emoji:"\ud83d\udd6f",path:"assets/emojis/candle.svg"},{name:"radio",emoji:"\ud83d\udcfb",path:"assets/emojis/radio.svg"},{name:"fish",emoji:"\ud83d\udc1f",path:"assets/emojis/fish.svg"},{name:"icecream",emoji:"\ud83c\udf68",path:"assets/emojis/icecream.svg"},{name:"pizza",emoji:"\ud83c\udf55",path:"assets/emojis/pizza.svg"},{name:"bird",emoji:"\ud83d\udc26",path:"assets/emojis/bird.svg"},{name:"cassette",emoji:"\ud83d\udcfc",path:"assets/emojis/cassette.svg"},{name:"hamburger",emoji:"\ud83c\udf54",path:"assets/emojis/hamburger.svg"},{name:"hotdog",emoji:"\ud83c\udf2d",path:"assets/emojis/hotdog.svg"},{name:"fries",emoji:"\ud83c\udf5f",path:"assets/emojis/fries.svg"},{name:"ramen",emoji:"\ud83c\udf5c",path:"assets/emojis/ramen.svg"},{name:"donut",emoji:"\ud83c\udf69",path:"assets/emojis/donut.svg"},{name:"sushi",emoji:"\ud83c\udf63",path:"assets/emojis/sushi.svg"},{name:"taco",emoji:"\ud83c\udf2e",path:"assets/emojis/taco.svg"},{name:"burrito",emoji:"\ud83c\udf2f",path:"assets/emojis/burrito.svg"},{name:"traffic light",emoji:"\ud83d\udea6",path:"assets/emojis/traffic light.svg"},{name:"bus",emoji:"\ud83d\ude8e",path:"assets/emojis/bus.svg"},{name:"truck",emoji:"\ud83d\ude9a",path:"assets/emojis/truck.svg"},{name:"screw",emoji:"\ud83d\udd29",path:"assets/emojis/screw.svg"},{name:"sax",emoji:"\ud83c\udfb7",path:"assets/emojis/sax.svg"},{name:"baby bottle",emoji:"\ud83c\udf7c",path:"assets/emojis/baby bottle.svg"},{name:"motor scooter",emoji:"\ud83d\udef5",path:"assets/emojis/motor scooter.svg"},{name:"magnifying glass",emoji:"\ud83d\udd0e",path:"assets/emojis/magnifying glass.svg"},{name:"jack o lantern",emoji:"\ud83c\udf83",path:"assets/emojis/jack o lantern.svg"}],l=i("fXoL"),g=i("ucLm"),v=["video"],b=((o=function(){function s(){e(this,s)}return t(s,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){}},{key:"setupCamera",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=5;break}return e.next=3,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}});case 3:return s=e.sent,e.abrupt("return",(this.videoEl.nativeElement.srcObject=s,new Promise((function(e){t.videoEl.nativeElement.onloadedmetadata=function(){void 0!==t.targetPixels&&t.fitTargetPixels(Number(t.targetPixels)),e([t.videoEl.nativeElement.videoWidth,t.videoEl.nativeElement.videoHeight])}}))));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"fitTargetPixels",value:function(e){var s=this.videoEl.nativeElement.videoWidth,t=this.videoEl.nativeElement.videoHeight,a=s/t;s>=t?(this.videoEl.nativeElement.height=e,this.videoEl.nativeElement.width=a*e):(this.videoEl.nativeElement.width=e,this.videoEl.nativeElement.height=e/a)}}]),s}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=l.Bb({type:o,selectors:[["app-camera"]],viewQuery:function(e,s){var t;1&e&&l.gc(v,!0),2&e&&l.Zb(t=l.Sb())&&(s.videoEl=t.first)},inputs:{targetPixels:"targetPixels"},decls:2,vars:0,consts:[["autoplay","","playsinline",""],["video",""]],template:function(e,s){1&e&&l.Ib(0,"video",0,1)},styles:[""]}),o),u=["camera"];function f(e,s){if(1&e&&(l.Kb(0,"ion-title"),l.dc(1),l.Ub(2,"percent"),l.Jb()),2&e){var t=l.Tb();l.xb(1),l.fc(" ",t.predicts[0].emojiItem.emoji," - ",l.Vb(2,2,t.predicts[0].confidence)," ")}}function d(e,s){if(1&e&&(l.Kb(0,"tr"),l.Kb(1,"td"),l.dc(2),l.Jb(),l.Kb(3,"td"),l.dc(4),l.Ub(5,"percent"),l.Jb(),l.Jb()),2&e){var t=s.$implicit;l.xb(2),l.ec(t.emojiItem.emoji),l.xb(2),l.ec(l.Vb(5,2,t.confidence))}}function y(e,s){if(1&e&&(l.Kb(0,"ion-col"),l.Kb(1,"table"),l.cc(2,d,6,4,"tr",7),l.Jb(),l.Jb()),2&e){var t=l.Tb();l.xb(2),l.Yb("ngForOf",t.predicts)}}var E,k,w,x=[{path:"",component:(E=function(){function s(t){e(this,s),this.mobileNet=t,this.VIDEO_PIXELS=224}return t(s,[{key:"ngAfterViewInit",value:function(){this.init()}},{key:"init",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.camera.setupCamera();case 2:this.loopPredict();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"predict",value:function(){var e=this,s=p.tidy((function(){var s=p.fromPixels(e.camera.videoEl.nativeElement),t=s.slice([s.shape[0]/2-e.VIDEO_PIXELS/2,s.shape[1]/2-e.VIDEO_PIXELS/2,0],[e.VIDEO_PIXELS,e.VIDEO_PIXELS,3]);return e.mobileNet.predict(t)})),t=this.mobileNet.getTopKClasses(s);this.predicts=t.filter((function(s){return null!==e.findEmoji(s.label)})).map((function(s){return{emojiItem:e.findEmoji(s.label),confidence:s.value}})).slice(0,10)}},{key:"loopPredict",value:function(){var e=this;this.predict(),setTimeout((function(){requestAnimationFrame((function(){return e.loopPredict()}))}),1e3)}},{key:"findEmoji",value:function(e){for(var s=null,t=0;t<h.length;t++)if(h[t].name===e){s=h[t];break}return s}}]),s}(),E.\u0275fac=function(e){return new(e||E)(l.Hb(g.a))},E.\u0275cmp=l.Bb({type:E,selectors:[["app-home"]],viewQuery:function(e,s){var t;1&e&&l.gc(u,!0),2&e&&l.Zb(t=l.Sb())&&(s.camera=t.first)},decls:11,vars:5,consts:[[3,"translucent"],[4,"ngIf"],[3,"fullscreen"],["id","container"],[1,"ion-align-items-center"],[3,"targetPixels"],["camera",""],[4,"ngFor","ngForOf"]],template:function(e,s){1&e&&(l.Kb(0,"ion-header",0),l.Kb(1,"ion-toolbar"),l.cc(2,f,3,4,"ion-title",1),l.Jb(),l.Jb(),l.Kb(3,"ion-content",2),l.Kb(4,"div",3),l.Kb(5,"ion-grid"),l.Kb(6,"ion-row",4),l.Kb(7,"ion-col"),l.Ib(8,"app-camera",5,6),l.Jb(),l.cc(10,y,3,1,"ion-col",1),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.Yb("translucent",!0),l.xb(2),l.Yb("ngIf",s.predicts),l.xb(1),l.Yb("fullscreen",!0),l.xb(5),l.Yb("targetPixels",s.VIDEO_PIXELS),l.xb(2),l.Yb("ngIf",s.predicts))},directives:[m.e,m.i,n.i,m.c,m.d,m.g,m.b,b,m.h,n.h],pipes:[n.k],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),E)}],P=((w=function s(){e(this,s)}).\u0275mod=l.Fb({type:w}),w.\u0275inj=l.Eb({factory:function(e){return new(e||w)},imports:[[c.i.forChild(x)],c.i]}),w),I=((k=function s(){e(this,s)}).\u0275mod=l.Fb({type:k}),k.\u0275inj=l.Eb({factory:function(e){return new(e||k)},imports:[[n.b,r.a,m.j,P]]}),k)}}])}();